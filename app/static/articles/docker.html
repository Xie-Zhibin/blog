<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>docker.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="/static/assets/css/article.css">
</head>
<body class="markdown haroopad">
<h1 id="docker-笔记"><a name="docker-笔记" href="#docker-笔记"></a>docker 笔记</h1><hr class="page"><h3 id="简介"><a name="简介" href="#简介"></a>简介</h3><p>Docker是基于Linux 64bit下的一个轻量级的开源应用容器引擎。<br>Docker 是一个开源项目，诞生于 2013 年初，最初是 dotCloud 公司内部的一个业余项目。它基于 Google 公司推出的 Go 语言实现。 项目后来加入了 Linux 基金会，遵从了 Apache 2.0 协议，项目代码在 GitHub 上进行维护。<br>Docker容器除了运行其中应用外，基本不消耗额外的系统资源，使得应用的性能很高，同时系统的开销尽量小。相比于传统虚拟机，docker容器占用的资源非常少，启动速度也非常快。</p><p>利用docker可以实现网站应用一键部署，大量地节约了部署测试的时间。</p><hr class="page"><h3 id="常用命令"><a name="常用命令" href="#常用命令"></a>常用命令</h3><ul>
<li>获取镜像：docker pull REPO_NAME:TAG_NAME</li><li>创建容器：docker run —name CONTAINER_NAME [params…]</li><li>创建容器时挂载数据卷: docker run -v local_dir:docker_dir  (冒号前为宿主机目录，必须为绝对路径，冒号后为镜像内挂载的路径)</li><li>清楚所有未打过标签的本地镜像：docker rmi $(docker images -q -f “dangling=true”)</li><li>清除所有容器：docker rm $(docker ps -a -q)，需要清除正在运行的容器需加 -f 参数</li></ul><p>docker 的很多操作都与git相似，可以类比学习。</p><hr class="page"><h3 id="注意事项"><a name="注意事项" href="#注意事项"></a>注意事项</h3><ul>
<li><p>Dockerfile 中的CMD 指定启动容器时执行的命令，每个 Dockerfile 只能有一条 CMD 命令。如果指定了多条命令，只有最后一条会被执行。如果确实要执行多条命令，那么可以将命令写在shell脚本中，再由CMD命令运行这个shell脚本。</p>
</li><li><p>Dockerfile 中不支持将主机目录作为数据卷这种用法，这是因为 Dockerfile 是为了移植和分享用的。然而，不同操作系统的路径格式不一样，所以目前还不能支持。只能在创建容器的时候以参数的形式传递。</p>
</li></ul>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
